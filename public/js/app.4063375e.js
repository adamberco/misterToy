(function(e){function t(t){for(var r,a,i=t[0],u=t[1],c=t[2],p=0,d=[];p<i.length;p++)a=i[p],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&d.push(o[a][0]),o[a]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);l&&l(t);while(d.length)d.shift()();return s.push.apply(s,c||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],r=!0,i=1;i<n.length;i++){var u=n[i];0!==o[u]&&(r=!1)}r&&(s.splice(t--,1),e=a(a.s=n[0]))}return e}var r={},o={app:0},s=[];function a(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=r,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],u=i.push.bind(i);i.push=t,i=i.slice();for(var c=0;c<i.length;c++)t(i[c]);var l=u;s.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"2ff2":function(e,t,n){},4678:function(e,t,n){var r={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function o(e){var t=s(e);return n(t)}function s(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}o.keys=function(){return Object.keys(r)},o.resolve=s,e.exports=o,o.id="4678"},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"main-layout"},[n("main-header"),n("router-view")],1)},s=[],a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("header",{staticClass:"main-header full"},[n("router-link",{attrs:{to:"/"}},[n("section",{staticClass:"logo"},[e._v("Toy Shop")])]),n("div",{staticClass:"nav"},[n("router-link",{attrs:{to:"/"}},[e._v("Home")]),n("router-link",{attrs:{to:"/about"}},[e._v("About")]),n("router-link",{attrs:{to:"/toy"}},[e._v("Toy shop")]),n("router-link",{attrs:{to:"/reviews"}},[e._v("Reviews Explore")]),e.user.isAdmin?n("router-link",{attrs:{to:"/toy/dashboard"}},[e._v("Dashboard")]):e._e()],1),n("p",[e._v(" Welcome "+e._s(e.user.fullName)+" "),"Guest"!==e.user.fullName?n("button",{on:{click:e.logout}},[e._v("Logout")]):e._e()])],1)},i=[],u=n("1da1"),c=(n("96cf"),n("e9c4"),n("99af"),n("bc3a")),l=n.n(c),p=n("8c4f"),d=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"home"},[n("h1",[e._v("Welcome to the best Toy shop!")]),n("section",{staticClass:"login-page"},[n("h2",{on:{click:function(t){return e.toggleForm("login")}}},[e._v("Login")]),e.loginForm?n("form",{staticClass:"login",on:{submit:function(t){return t.preventDefault(),e.login.apply(null,arguments)}}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.loginNickname,expression:"loginNickname"}],attrs:{type:"text",placeholder:"Username"},domProps:{value:e.loginNickname},on:{input:function(t){t.target.composing||(e.loginNickname=t.target.value)}}}),n("br"),n("input",{directives:[{name:"model",rawName:"v-model",value:e.loginPassword,expression:"loginPassword"}],attrs:{type:"text",placeholder:"Password"},domProps:{value:e.loginPassword},on:{input:function(t){t.target.composing||(e.loginPassword=t.target.value)}}}),n("br"),n("button",[e._v("Login")])]):e._e(),n("h2",{on:{click:function(t){return e.toggleForm("signup")}}},[e._v("Signup")]),e.signupForm?n("form",{staticClass:"signup",on:{submit:function(t){return t.preventDefault(),e.signup.apply(null,arguments)}}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.signupFullname,expression:"signupFullname"}],attrs:{type:"text",placeholder:"Full name"},domProps:{value:e.signupFullname},on:{input:function(t){t.target.composing||(e.signupFullname=t.target.value)}}}),n("br"),n("input",{directives:[{name:"model",rawName:"v-model",value:e.signupNickname,expression:"signupNickname"}],attrs:{type:"text",placeholder:"Username"},domProps:{value:e.signupNickname},on:{input:function(t){t.target.composing||(e.signupNickname=t.target.value)}}}),n("br"),n("input",{directives:[{name:"model",rawName:"v-model",value:e.signupPassword,expression:"signupPassword"}],attrs:{type:"text",placeholder:"Password"},domProps:{value:e.signupPassword},on:{input:function(t){t.target.composing||(e.signupPassword=t.target.value)}}}),n("br"),n("button",[e._v("Signup")])]):e._e()])])},f=[],v=n("7bb1"),m={name:"Home",data:function(){return{user:null,loginForm:!1,loginNickname:"",signupNickname:"",signupFullname:"",signupForm:!1,loginPassword:"",signupPassword:""}},created:function(){this.user=Lt.getLoggedinUser()},methods:{login:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.user){t.next=3;break}return console.log("Logout first"),t.abrupt("return");case 3:return t.prev=3,t.next=6,Lt.login(e.loginNickname,e.loginPassword);case 6:n=t.sent,e.user=n,n&&e.$router.push("/toy"),t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](3),console.log("wrong pass/username",t.t0);case 14:case"end":return t.stop()}}),t,null,[[3,11]])})))()},signup:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.user){t.next=3;break}return console.log("Logout first"),t.abrupt("return");case 3:return t.prev=3,t.next=6,Lt.signup(e.signupNickname,e.signupPassword,e.signupFullname);case 6:n=t.sent,e.user=n,n&&e.$router.push("/toy"),t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](3),console.log("taken username",t.t0);case 14:case"end":return t.stop()}}),t,null,[[3,11]])})))()},toggleForm:function(e){"login"===e?(this.loginForm=!this.loginForm,this.signupForm=!1):(this.signupForm=!this.signupForm,this.loginForm=!1)}},computed:{},components:{userService:Lt,ValidationProvider:v["a"]}},h=m,g=n("0c7c"),y=Object(g["a"])(h,d,f,!1,null,null,null),b=y.exports,w=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"about"},[n("h1",[e._v("Come visit our shops!")]),n("GmapMap",{ref:"mapRef",staticStyle:{width:"60%",height:"400px"},attrs:{center:e.center,zoom:10,"map-type-id":"terrain"}},e._l(e.markers,(function(t,r){return n("GmapMarker",{key:r,attrs:{position:t.position,clickable:!0,draggable:!0},on:{click:function(n){e.center=t.position}}})})),1)],1)},j=[],x={data:function(){return{markers:[{markers:[{city:"Petach Tikva",position:{lat:32.09573,lng:34.881865}},{city:"Tel Aviv",position:{lat:32.08704,lng:34.775293}},{city:"Netanya",position:{lat:32.290295,lng:34.861591}}],center:{lat:32.08171353971608,lng:34.78886754010946}}]}},mounted:function(){this.$refs.mapRef.$mapPromise.then((function(e){e.panTo({lat:1.38,lng:103.8})}))},computed:{}},k=x,_=Object(g["a"])(k,w,j,!1,null,null,null),T=_.exports,O=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"toy-app"},[n("h1",[e._v("Toy Shop")]),e.user&&e.user.isAdmin?n("button",[n("router-link",{attrs:{to:"/toy/edit/newToy"}},[e._v("Add Toy")])],1):e._e(),n("toy-filter"),n("div",{staticClass:"add-container"}),e.isLoading?n("p",[e._v("Loading...")]):n("toy-list",{attrs:{toys:e.toys}})],1)},E=[],R=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"toy-filter"},[n("el-input",{attrs:{type:"text",placeholder:"Search a toy..."},on:{input:e.setFilter},model:{value:e.filterBy.txt,callback:function(t){e.$set(e.filterBy,"txt",t)},expression:"filterBy.txt"}}),n("el-select",{attrs:{"collapse-tags":"",placeholder:"In/Out of stock"},on:{change:e.setFilter},model:{value:e.filterBy.status,callback:function(t){e.$set(e.filterBy,"status",t)},expression:"filterBy.status"}},[n("el-option",{attrs:{value:""}},[e._v("All")]),n("el-option",{attrs:{value:"In stock"}},[e._v("In stock")]),n("el-option",{attrs:{value:"Out of stock"}},[e._v("Out of stock")])],1),n("label",[n("el-select",{attrs:{multiple:"",placeholder:"Search by labels"},on:{change:e.setFilter},model:{value:e.filterBy.labels,callback:function(t){e.$set(e.filterBy,"labels",t)},expression:"filterBy.labels"}},[n("el-option",{attrs:{value:"On wheels"}},[e._v("On wheels")]),n("el-option",{attrs:{value:"Box game"}},[e._v("Box game")]),n("el-option",{attrs:{value:"Art"}},[e._v("Art")]),n("el-option",{attrs:{value:"Baby"}},[e._v("Baby")]),n("el-option",{attrs:{value:"Doll"}},[e._v("Doll")]),n("el-option",{attrs:{value:"Outdoor"}},[e._v("Outdoor")]),n("el-option",{attrs:{value:"Puzzle"}},[e._v("Puzzle")])],1)],1),n("label",[n("el-select",{attrs:{placeholder:"Sort by..."},on:{change:e.setFilter},model:{value:e.filterBy.sort,callback:function(t){e.$set(e.filterBy,"sort",t)},expression:"filterBy.sort"}},[n("el-option",{attrs:{value:"Name"}},[e._v("Name")]),n("el-option",{attrs:{value:"Price Low"}},[e._v("Price (low to high)")]),n("el-option",{attrs:{value:"Price High"}},[e._v("Price (high to low)")]),n("el-option",{attrs:{value:"Date"}},[e._v("Date")])],1)],1)],1)},S=[],A={data:function(){return{filterBy:{status:"",txt:"",labels:[],sort:""},sortBy:"",options:["All","In stock","Out of stock"]}},methods:{setFilter:function(){var e=JSON.parse(JSON.stringify(this.filterBy));this.$store.dispatch({type:"setFilter",filterBy:e})},setSort:function(){this.$store.dispatch({type:"setSort",sortBy:this.sortBy})}}},C=A,L=Object(g["a"])(C,R,S,!1,null,null,null),N=L.exports,P="show-msg",B=new r["default"];function I(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success";B.$emit(P,{txt:e,type:t})}var z={query:U,getById:J,remove:D,save:q,getEmptyToy:H};function U(e){return F.apply(this,arguments)}function F(){return F=Object(u["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",Rt.get("toy/",t));case 4:e.prev=4,e.t0=e["catch"](0),console.log("error:",e.t0);case 7:case"end":return e.stop()}}),e,null,[[0,4]])}))),F.apply(this,arguments)}function J(e){return $.apply(this,arguments)}function $(){return $=Object(u["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",Rt.get("toy/"+t));case 4:e.prev=4,e.t0=e["catch"](0),console.log("error:",e.t0);case 7:case"end":return e.stop()}}),e,null,[[0,4]])}))),$.apply(this,arguments)}function D(e){return V.apply(this,arguments)}function V(){return V=Object(u["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",Rt.delete("toy/"+t));case 4:e.prev=4,e.t0=e["catch"](0),console.log("error:",e.t0);case 7:case"end":return e.stop()}}),e,null,[[0,4]])}))),V.apply(this,arguments)}function q(e){return M.apply(this,arguments)}function M(){return M=Object(u["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,!t._id){e.next=5;break}return e.abrupt("return",Rt.put("toy/"+t._id,t));case 5:return e.abrupt("return",Rt.post("toy/",t));case 6:e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),console.log("err",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),M.apply(this,arguments)}function H(){return{name:"",price:null,labels:[],createdAt:null,inStock:!0,url:""}}var Y=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"toy-list"},e._l(e.toys,(function(e){return n("toy-preview",{key:e._id,attrs:{toy:e}})})),1)},G=[],K=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"toy-preview"},[n("h4",[e._v(" "+e._s(e.toy.name)+" "),n("span",[e._v("$"+e._s(e.toy.price)+" ")])]),n("img",{attrs:{src:e.toy.url,alt:""}}),n("div",{staticClass:"preview-actions"},[n("button",[n("router-link",{attrs:{to:"/toy/"+e.toy._id}},[e._v("Details")])],1),e.user&&e.user.isAdmin?n("button",[n("router-link",{attrs:{to:"/toy/edit/"+e.toy._id}},[e._v("Edit")])],1):e._e(),e.user&&e.user.isAdmin?n("button",{on:{click:e.removeToy}},[e._v("Delete")]):e._e()])])},Q=[],W={props:{toy:{type:Object}},methods:{editToy:function(){B.$emit("editToy",this.toyToEdit)},removeToy:function(){B.$emit("removeToy",this.toyToEdit._id)}},computed:{toyToEdit:function(){return JSON.parse(JSON.stringify(this.toy))},user:function(){return this.$store.getters.user}}},X=W,Z=Object(g["a"])(X,K,Q,!1,null,null,null),ee=Z.exports,te={props:{toys:{type:Array}},components:{toyPreview:ee}},ne=te,re=Object(g["a"])(ne,Y,G,!1,null,null,null),oe=re.exports,se={data:function(){return{user:null}},created:function(){B.$on("removeToy",this.deleteToy),this.$store.dispatch({type:"setUser"}),this.user=Lt.getLoggedinUser()},destroyed:function(){B.$off("removeToy",this.deleteToy)},computed:{toys:function(){return this.$store.getters.toys},isLoading:function(){return this.$store.getters.isLoading}},methods:{deleteToy:function(e){var t=this;return Object(u["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,t.$store.dispatch({type:"removeToy",toyId:e});case 3:I("Toy deleted"),n.next=9;break;case 6:n.prev=6,n.t0=n["catch"](0),console.log("eror:",n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))()}},components:{toyList:oe,toyFilter:N}},ae=se,ie=Object(g["a"])(ae,O,E,!1,null,null,null),ue=ie.exports,ce=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",[n("router-link",{attrs:{to:"/toy"}},[e._v("Back")]),e.toy?n("div",{staticClass:"toy-details"},[n("h3",[e._v(e._s(e.toy.name))]),n("span",[e._v("Price: $"+e._s(e.toy.price))]),n("section",[e.toy.labels?n("span",[e._v("Labels:")]):e._e(),e._l(e.toy.labels,(function(t,r){return n("span",{key:t},[e._v(" "+e._s(t)+" "),n("span",{directives:[{name:"show",rawName:"v-show",value:r!==e.toy.labels.length-1,expression:"idx !== toy.labels.length - 1"}]},[e._v("|")])])}))],2),n("span",[e._v(e._s(e.toy.inStock?"In Stock":"Currently out of Stock"))]),n("span",[e._v("Created At:"+e._s(e.timeToShow))]),n("small",[e._v("Id: "+e._s(e.toy._id))]),n("button",{on:{click:function(t){e.reviewAdd=!e.reviewAdd}}},[e._v("Add review")]),n("button",{on:{click:function(t){e.showChat=!e.showChat}}},[e._v("Chat")]),e.reviewAdd?n("section",{staticClass:"add-review"},[e._v(" Thank for adding your review! "),n("form",{on:{submit:function(t){return t.preventDefault(),e.submitReview.apply(null,arguments)}}},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.reviewToEdit.txt,expression:"reviewToEdit.txt"}],attrs:{rows:"5",type:"text",placeholder:"Your review comes here"},domProps:{value:e.reviewToEdit.txt},on:{input:function(t){t.target.composing||e.$set(e.reviewToEdit,"txt",t.target.value)}}}),n("br"),n("button",[e._v("Submit")]),n("button",{on:{click:function(t){e.reviewAdd=!e.reviewAdd}}},[e._v("Cancel")])])]):e._e(),e.reviewsToShow?n("h3",[e._v("Reviews:")]):e._e(),n("section",{staticClass:"toy-reviews"},e._l(e.reviewsToShow,(function(t,r){return n("span",{key:r},[n("p",[e._v(e._s(t.txt))]),n("p",[e._v(" Review by "),n("router-link",{attrs:{to:"/user/"+t.byUser.fullName}},[e._v(" "+e._s(t.byUser.fullName)+" ")])],1)])})),0),n("chat",{directives:[{name:"show",rawName:"v-show",value:e.showChat,expression:"showChat"}],staticClass:"chat",attrs:{toy:e.toy}})],1):e._e()],1)},le=[],pe=(n("4de4"),n("d3b7"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},[n("h2",[e._v("Lets Chat About "+e._s(e.toy.name))]),n("form",{on:{submit:function(t){return t.preventDefault(),e.sendMsg.apply(null,arguments)}}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.msg.txt,expression:"msg.txt"}],attrs:{type:"text",placeholder:"Your msg"},domProps:{value:e.msg.txt},on:{input:[function(t){t.target.composing||e.$set(e.msg,"txt",t.target.value)},e.typing]}}),n("button",[e._v("Send")]),n("br"),e.isTyping?n("small",[e._v(e._s(e.typingUser)+" is typing...")]):e._e()]),n("hr"),n("ul",e._l(e.msgs,(function(t,r){return n("li",{key:r},[n("span",[e._v(e._s(t.from)+":")]),e._v(e._s(t.txt)+" ")])})),0)])}),de=[],fe=(n("b0c0"),n("2909"),n("159b"),n("daa8")),ve="review-added",me="",he=ge();function ge(){var e=null,t={setup:function(){return Object(u["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e=Object(fe["a"])(me);case 1:case"end":return t.stop()}}),t)})))()},on:function(t,n){e.on(t,n)},off:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;e&&(n?e.off(t,n):e.removeAllListeners(t))},emit:function(t,n){e.emit(t,n)},terminate:function(){e=null}};return t}window.socketService=he,he.setup();var ye={props:{toy:{type:Object}},data:function(){return{msg:{from:"",txt:""},msgs:[],isTyping:!1,typingUser:null}},created:function(){he.emit("chat topic",this.toy.name),he.on("chat addMsg",this.addMsg),he.on("chat userTyping",this.userTyping),this.msg.from=this.user.fullName},destroyed:function(){he.off("chat addMsg",this.addMsg)},methods:{addMsg:function(e){this.msgs.unshift(e)},sendMsg:function(){he.emit("chat newMsg",this.msg),this.msg={from:this.user.fullName,txt:""}},userTyping:function(e){var t=this;this.isTyping=!0,this.typingUser=e,setTimeout((function(){t.isTyping=!1}),2e3)},typing:function(){he.emit("chat sendTyping",this.user.fullName)}},computed:{user:function(){return this.$store.getters.user}}},be=ye,we=Object(g["a"])(be,pe,de,!1,null,null,null),je=we.exports,xe=(n("7db0"),n("c740"),n("a434"),{query:ke,get:_e,post:Te,put:Oe,remove:Ee});function ke(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,n=JSON.parse(localStorage.getItem(e))||[];return new Promise((function(e){setTimeout((function(){e(n)}),t)}))}function _e(e,t){return ke(e).then((function(e){return e.find((function(e){return e._id===t}))}))}function Te(e,t){return t._id=Se(),ke(e).then((function(n){return n.push(t),Re(e,n),t}))}function Oe(e,t){return ke(e).then((function(n){var r=n.findIndex((function(e){return e._id===t._id}));return n.splice(r,1,t),Re(e,n),t}))}function Ee(e,t){return ke(e).then((function(n){var r=n.findIndex((function(e){return e._id===t}));if(r<0)throw new Error("Unknown Entity ".concat(t));n.splice(r,1),Re(e,n)}))}function Re(e,t){localStorage.setItem(e,JSON.stringify(t))}function Se(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=0;r<e;r++)t+=n.charAt(Math.floor(Math.random()*n.length));return t}var Ae={add:Ne,query:Ce,remove:Le};function Ce(e){return Rt.get("review")}function Le(e){return Rt.delete("review/".concat(e))}function Ne(e){return Pe.apply(this,arguments)}function Pe(){return Pe=Object(u["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.byUser=Lt.getLoggedinUser(),e.next=3,Rt.post("review",t);case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)}))),Pe.apply(this,arguments)}Object(u["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,xe.query("review");case 2:t=e.sent,window.addEventListener("storage",Object(u["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("Storage updated"),e.next=3,xe.query("review");case 3:n=e.sent,n.length===t.length+1&&(console.log("Review Added - localStorage updated from another browser"),he.emit(ve,n[n.length-1])),t=n;case 6:case"end":return e.stop()}}),e)}))));case 4:case"end":return e.stop()}}),e)})))();var Be,Ie,ze={data:function(){return{reviewAdd:!1,reviewToEdit:{txt:"",aboutToyId:null},toy:null,showChat:!1}},created:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.$route.params.toyId,t.prev=1,t.next=4,z.getById(n);case 4:r=t.sent,e.toy=r,e.reviewToEdit.aboutToyId=r._id,t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](1),console.log("can't load toy");case 12:case"end":return t.stop()}}),t,null,[[1,9]])})))()},methods:{submitReview:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$store.dispatch({type:"addReview",review:e.reviewToEdit});case 3:e.$store.dispatch({type:"loadReviews"}),e.reviewToEdit={txt:"",aboutToyId:null},e.reviewAdd=!1,t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),console.log("err:",t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()}},computed:{timeToShow:function(){return new Date(this.toy.createdAt).toLocaleString().substring(0,17)},reviewsToShow:function(){var e=this,t=this.$store.getters.reviews;return t.filter((function(t){return t.aboutToy._id===e.toy._id}))}},components:{chat:je}},Ue=ze,Fe=Object(g["a"])(Ue,ce,le,!1,null,null,null),Je=Fe.exports,$e=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",[n("a",{on:{click:function(t){return e.$router.go(-1)}}},[e._v("Back")]),n("br"),n("h2",[e._v(e._s(e.user)+" reviews:")]),e._l(e.reviewsToShow,(function(t){return n("p",{key:t._id},[n("span",[e._v("Content: "+e._s(t.txt))]),n("br"),n("span",[e._v("About toy: "+e._s(t.aboutToy.name))]),n("br")])}))],2)},De=[],Ve={data:function(){return{reviewAdd:!1,reviewToEdit:{txt:"",aboutToyId:null},user:null}},created:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=e.$route.params.userId,e.user=n,console.log("user",n);case 3:case"end":return t.stop()}}),t)})))()},methods:{submitReview:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$store.dispatch({type:"addReview",review:e.reviewToEdit});case 3:e.reviewToEdit={txt:"",aboutToyId:null},e.reviewAdd=!1,t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),console.log("err:",t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()}},computed:{timeToShow:function(){return new Date(this.toy.createdAt).toLocaleString().substring(0,17)},reviewsToShow:function(){var e=this,t=this.$store.getters.reviews;return t.filter((function(t){return t.byUser.fullName===e.user}))}}},qe=Ve,Me=Object(g["a"])(qe,$e,De,!1,null,null,null),He=Me.exports,Ye=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.toyToEdit?n("section",[n("router-link",{attrs:{to:"/toy"}},[e._v("Back")]),e.toyToEdit?n("div",{staticClass:"toy-details"},[n("form",{on:{submit:function(t){return t.preventDefault(),e.submitToy.apply(null,arguments)}}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.toyToEdit.name,expression:"toyToEdit.name"}],attrs:{type:"text",placeholder:"Toy name"},domProps:{value:e.toyToEdit.name},on:{input:function(t){t.target.composing||e.$set(e.toyToEdit,"name",t.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model.number",value:e.toyToEdit.price,expression:"toyToEdit.price",modifiers:{number:!0}}],attrs:{type:"number",placeholder:"Price"},domProps:{value:e.toyToEdit.price},on:{input:function(t){t.target.composing||e.$set(e.toyToEdit,"price",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}}),n("el-select",{attrs:{multiple:"",placeholder:"Select"},model:{value:e.toyToEdit.labels,callback:function(t){e.$set(e.toyToEdit,"labels",t)},expression:"toyToEdit.labels"}},e._l(e.labels,(function(e){return n("el-option",{key:e.idx,attrs:{label:e.label,value:e.value}})})),1),n("p",{on:{click:function(t){t.preventDefault(),e.toyToEdit.inStock=!e.toyToEdit.inStock}}},[e._v(" "+e._s(e.toyToEdit.inStock?"In Stock":"Currently out of Stock")+" ")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.toyToEdit.url,expression:"toyToEdit.url"}],attrs:{type:"text",placeholder:"Img url"},domProps:{value:e.toyToEdit.url},on:{input:function(t){t.target.composing||e.$set(e.toyToEdit,"url",t.target.value)}}}),n("img-upload",{on:{onSaveImg:e.saveImg}}),n("button",[e._v("Submit")])],1)]):e._e()],1):e._e()},Ge=[],Ke=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"img-upload-container"},[e.isLoading?r("img",{attrs:{src:n("95cd"),alt:""}}):r("label",{staticClass:"clickable"},[r("img",{attrs:{src:n("894f"),alt:""}}),r("input",{attrs:{type:"file",id:"uploadImg",hidden:""},on:{change:e.onUploadImg}})])])},Qe=[],We=function(e){var t="toy-store",n="toy-store",r="https://api.cloudinary.com/v1_1/".concat(n,"/image/upload"),o=new FormData;return o.append("file",e.target.files[0]),o.append("upload_preset",t),fetch(r,{method:"POST",body:o}).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){return console.error(e)}))},Xe={data:function(){return{isLoading:!1}},methods:{onUploadImg:function(e){var t=this;return Object(u["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.isLoading=!0,n.next=3,We(e);case 3:r=n.sent,t.$emit("onSaveImg",r.url),t.isLoading=!1;case 6:case"end":return n.stop()}}),n)})))()}}},Ze=Xe,et=(n("c193"),Object(g["a"])(Ze,Ke,Qe,!1,null,null,null)),tt=et.exports,nt={data:function(){return{toyToEdit:null,labels:[{value:"On wheels",label:"On wheels"},{value:"Box game",label:"Box game"},{value:"Art",label:"Art"},{value:"Baby",label:"Baby"},{value:"Doll",label:"Doll"},{value:"Outdoor",label:"Outdoor"},{value:"Puzzle",label:"Puzzle"}],showLabels:!1}},created:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=e.$route.params.toyId,console.log("toyId",n),"newToy"===n){t.next=15;break}return t.prev=3,t.next=6,z.getById(n);case 6:r=t.sent,e.toyToEdit=JSON.parse(JSON.stringify(r)),t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](3),console.log("cant get toy");case 13:t.next=16;break;case 15:e.toyToEdit=z.getEmptyToy();case 16:case"end":return t.stop()}}),t,null,[[3,10]])})))()},methods:{submitToy:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=JSON.parse(JSON.stringify(e.toyToEdit)),n._id){t.next=14;break}return n.createdAt=Date.now(),t.prev=3,t.next=6,e.$store.dispatch({type:"addToy",toy:n});case 6:e.$router.push("/toy"),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](3),console.log("eror",t.t0);case 12:t.next=23;break;case 14:return t.prev=14,t.next=17,e.$store.dispatch({type:"updateToy",toy:n});case 17:e.$router.push("/toy"),t.next=23;break;case 20:t.prev=20,t.t1=t["catch"](14),console.log("eror",t.t1);case 23:case"end":return t.stop()}}),t,null,[[3,9],[14,20]])})))()},saveImg:function(e){this.toyToEdit.url=e}},computed:{timeToShow:function(){return new Date(this.toyToEdit.createdAt).toLocaleString().substring(0,17)}},components:{imgUpload:tt}},rt=nt,ot=Object(g["a"])(rt,Ye,Ge,!1,null,null,null),st=ot.exports,at=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",[e._v(" Toys for Label: "),n("chart",{staticClass:"chart"})],1)},it=[],ut=(n("ac1f"),n("00b4"),n("25f0"),n("1fca")),ct={extends:ut["a"],mounted:function(){this.renderChart({labels:["Art","Baby","Doll","Puzzle","Outdoor"],datasets:[{label:"GitHub Commits",backgroundColor:["#ff9d9d","#ffe293","#d9ffad","#8ff9ff","#f67aff"],data:this.test}]})},methods:{labelNum:function(e){var t=this.$store.getters.toys;return t.filter((function(t){return t.labels.some((function(t){return e.toLowerCase()===t.toLowerCase()}))})).length}},computed:{test:function(){return[this.labelNum("Art"),this.labelNum("Baby"),this.labelNum("Doll"),this.labelNum("Puzzle"),this.labelNum("outdoor")]},randomColor:function(){var e=Math.floor(16777215*Math.random()).toString(16);return"#"+e}}},lt=ct,pt=Object(g["a"])(lt,Be,Ie,!1,null,null,null),dt=pt.exports,ft={components:{chart:dt}},vt=ft,mt=(n("70e3"),Object(g["a"])(vt,at,it,!1,null,null,null)),ht=mt.exports,gt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"reviews-page"},[n("h2",[e._v("Reviews Explore")]),e._l(e.reviews,(function(t){return n("p",{key:t._id},[n("span",[e._v("Content: "+e._s(t.txt))]),n("br"),n("span",[e._v("About toy: "+e._s(t.aboutToy.name))]),n("br")])}))],2)},yt=[],bt={computed:{reviews:function(){return this.$store.getters.reviews}}},wt=bt,jt=Object(g["a"])(wt,gt,yt,!1,null,null,null),xt=jt.exports;r["default"].use(p["a"]);var kt=[{path:"/",name:"Home",component:b},{path:"/about",name:"About",component:T},{path:"/reviews",name:"Reviews",component:xt},{path:"/toy",name:"toy-app",component:ue},{path:"/toy/dashboard",name:"toy-dashboard",component:ht},{path:"/toy/edit/:toyId",name:"toy-edit",component:st},{path:"/toy/:toyId",name:"toy-details",component:Je},{path:"/user/:userId",name:"user-details",component:He}],_t=new p["a"]({routes:kt}),Tt=_t,Ot="/api/",Et=l.a.create({withCredentials:!0}),Rt={get:function(e,t){return St(e,"GET",t)},post:function(e,t){return St(e,"POST",t)},put:function(e,t){return St(e,"PUT",t)},delete:function(e,t){return St(e,"DELETE",t)}};function St(e){return At.apply(this,arguments)}function At(){return At=Object(u["a"])(regeneratorRuntime.mark((function e(t){var n,r,o,s=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]?s[1]:"GET",r=s.length>2&&void 0!==s[2]?s[2]:null,e.prev=2,e.next=5,Et({url:"".concat(Ot).concat(t),method:n,data:r,params:"GET"===n?r:null});case 5:return o=e.sent,e.abrupt("return",o.data);case 9:throw e.prev=9,e.t0=e["catch"](2),console.log("Had Issues ".concat(n,"ing to the backend, endpoint: ").concat(t,", with data:"),r),console.dir(e.t0),e.t0.response&&401===e.t0.response.status&&(void 0).push("/login"),e.t0;case 15:case"end":return e.stop()}}),e,null,[[2,9]])}))),At.apply(this,arguments)}var Ct="loggedinUser",Lt={login:Pt,getLoggedinUser:Nt,logout:Ut,signup:It};function Nt(){return JSON.parse(sessionStorage.getItem(Ct))}function Pt(e,t){return Bt.apply(this,arguments)}function Bt(){return Bt=Object(u["a"])(regeneratorRuntime.mark((function e(t,n){var r,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Rt.post("auth/login",{username:t,password:n});case 3:return r=e.sent,o=JSON.parse(JSON.stringify(r)),sessionStorage.setItem(Ct,JSON.stringify(o)),e.abrupt("return",r);case 9:e.prev=9,e.t0=e["catch"](0),console.log("can't login",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])}))),Bt.apply(this,arguments)}function It(e,t,n){return zt.apply(this,arguments)}function zt(){return zt=Object(u["a"])(regeneratorRuntime.mark((function e(t,n,r){var o,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Rt.post("auth/signup",{username:t,password:n,fullName:r});case 3:return o=e.sent,s=JSON.parse(JSON.stringify(o)),sessionStorage.setItem(Ct,JSON.stringify(s)),e.abrupt("return",o);case 9:e.prev=9,e.t0=e["catch"](0),console.log("can't signup",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])}))),zt.apply(this,arguments)}function Ut(){return Ft.apply(this,arguments)}function Ft(){return Ft=Object(u["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Rt.post("auth/logout");case 3:sessionStorage.removeItem(Ct),e.next=9;break;case 6:e.prev=6,e.t0=e["catch"](0),console.log("can't logout",e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])}))),Ft.apply(this,arguments)}window.userService=Lt;var Jt={computed:{user:function(){var e=this.$store.getters.user;return e||{fullName:"Guest"}}},methods:{logout:function(){var e=this;console.log("LOGOUT"),Lt.logout().then((function(){e.$router.push("/"),e.$store.dispatch({type:"setUser"})}))}}},$t=Jt,Dt=Object(g["a"])($t,a,i,!1,null,null,null),Vt=Dt.exports,qt={components:{mainHeader:Vt}},Mt=qt,Ht=Object(g["a"])(Mt,o,s,!1,null,null,null),Yt=Ht.exports,Gt=n("2f62"),Kt={state:{toys:[],filterBy:{txt:"",status:"all",labels:""},isLoading:!1,sortBy:"date"},getters:{toys:function(e){var t=JSON.parse(JSON.stringify(e.toys));return t},isLoading:function(e){var t=e.isLoading;return t}},mutations:{setToys:function(e,t){var n=t.toys;e.toys=n},addToy:function(e,t){var n=t.toy;e.toys.unshift(n)},updateToy:function(e,t){var n=t.toy,r=e.toys.findIndex((function(e){return e._id===n._id}));e.toys.splice(r,1,n)},removeToy:function(e,t){var n=t.toyId,r=e.toys.findIndex((function(e){return e._id===n}));e.toys.splice(r,1)},setFilter:function(e,t){var n=t.filterBy;e.filterBy=n},setSort:function(e,t){var n=t.sortBy;e.sortBy=n},setLoading:function(e,t){var n=t.isLoading;e.isLoading=n}},actions:{loadToys:function(e){return Object(u["a"])(regeneratorRuntime.mark((function t(){var n,r,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,r=e.state,t.prev=1,n({type:"setLoading",isLoading:!0}),t.next=5,z.query(r.filterBy,r.sortBy);case 5:o=t.sent,n({type:"setToys",toys:o}),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](1),console.log("Can't load toys",t.t0);case 12:return t.prev=12,n({type:"setLoading",isLoading:!1}),t.finish(12);case 15:case"end":return t.stop()}}),t,null,[[1,9,12,15]])})))()},addToy:function(e,t){return Object(u["a"])(regeneratorRuntime.mark((function n(){var r,o,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,e.dispatch,o=t.toy,n.prev=2,r({type:"setLoading",isLoading:!0}),n.next=6,z.save(o);case 6:return s=n.sent,r({type:"addToy",toy:s}),n.abrupt("return",s);case 11:n.prev=11,n.t0=n["catch"](2),console.log("Can't add toy",n.t0);case 14:return n.prev=14,r({type:"setLoading",isLoading:!1}),n.finish(14);case 17:case"end":return n.stop()}}),n,null,[[2,11,14,17]])})))()},updateToy:function(e,t){return Object(u["a"])(regeneratorRuntime.mark((function n(){var r,o,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,e.dispatch,o=t.toy,n.prev=2,r({type:"setLoading",isLoading:!0}),n.next=6,z.save(o);case 6:return s=n.sent,r({type:"updateToy",toy:s}),n.abrupt("return",s);case 11:n.prev=11,n.t0=n["catch"](2),console.log("Can't update toy",n.t0);case 14:return n.prev=14,r({type:"setLoading",isLoading:!1}),n.finish(14);case 17:case"end":return n.stop()}}),n,null,[[2,11,14,17]])})))()},removeToy:function(e,t){return Object(u["a"])(regeneratorRuntime.mark((function n(){var r,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,e.dispatch,o=t.toyId,n.prev=2,r({type:"setLoading",isLoading:!0}),n.next=6,z.remove(o);case 6:r({type:"removeToy",toyId:o}),n.next=12;break;case 9:n.prev=9,n.t0=n["catch"](2),console.log("Can't remove toy",n.t0);case 12:return n.prev=12,r({type:"setLoading",isLoading:!1}),n.finish(12);case 15:case"end":return n.stop()}}),n,null,[[2,9,12,15]])})))()},setFilter:function(e,t){var n=e.commit,r=e.dispatch,o=t.filterBy;n({type:"setFilter",filterBy:o}),r({type:"loadToys"})},setSort:function(e,t){var n=e.commit,r=t.sortBy;n({type:"setSort",sortBy:r})}}},Qt={state:{user:null},getters:{user:function(e){return JSON.parse(JSON.stringify(e.user))}},mutations:{setUser:function(e,t){var n=t.user;e.user=n}},actions:{loadUsers:function(e){var t=e.commit;Lt.query().then((function(e){t({type:"setUser",user:e})}))},setUser:function(e){var t=e.commit,n=Lt.getLoggedinUser();t({type:"setUser",user:n})}}},Wt={state:{reviews:[]},getters:{reviews:function(e){return e.reviews}},mutations:{setReviews:function(e,t){var n=t.reviews;e.reviews=n},addReview:function(e,t){var n=t.review;e.reviews.push(n)},removeReview:function(e,t){var n=t.reviewId;e.reviews=e.reviews.filter((function(e){return e._id!==n}))}},actions:{addReview:function(e,t){return Object(u["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=t.review,n.prev=1,n.next=4,Ae.add(r);case 4:return r=n.sent,e.commit({type:"addReview",review:r}),n.abrupt("return",r);case 9:throw n.prev=9,n.t0=n["catch"](1),console.log("reviewStore: Error in addReview",n.t0),n.t0;case 13:case"end":return n.stop()}}),n,null,[[1,9]])})))()},loadReviews:function(e){return Object(u["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ae.query();case 3:n=t.sent,e.commit({type:"setReviews",reviews:n}),t.next=11;break;case 7:throw t.prev=7,t.t0=t["catch"](0),console.log("reviewStore: Error in loadReviews",t.t0),t.t0;case 11:case"end":return t.stop()}}),t,null,[[0,7]])})))()},removeReview:function(e,t){return Object(u["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=t.reviewId,n.prev=1,n.next=4,Ae.remove(r);case 4:e.commit({type:"removeReview",reviewId:r}),n.next=11;break;case 7:throw n.prev=7,n.t0=n["catch"](1),console.log("reviewStore: Error in removeReview",n.t0),n.t0;case 11:case"end":return n.stop()}}),n,null,[[1,7]])})))()}}};r["default"].use(Gt["a"]);var Xt=new Gt["a"].Store({strict:!0,state:{},mutations:{},actions:{},modules:{toyStore:Kt,userStore:Qt,reviewStore:Wt}}),Zt=n("5c96"),en=n.n(Zt),tn=(n("0fae"),n("755e"));n("fb98");r["default"].use(en.a),r["default"].use(tn,{load:{key:"AIzaSyAxYW_FjuUgnuOXRQY7Re8yde2lPtht1Qk",libraries:"places"}}),r["default"].config.productionTip=!1,new r["default"]({template:"\n        <section > \n            \x3c!-- <app-header/> --\x3e\n            <router-view/>\n        </section>\n    ",created:function(){this.$store.dispatch({type:"loadToys"}),this.$store.dispatch({type:"setUser"}),this.$store.dispatch({type:"loadReviews"})},router:Tt,store:Xt,render:function(e){return e(Yt)}}).$mount("#app")},"70e3":function(e,t,n){"use strict";n("858e")},"858e":function(e,t,n){},"894f":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQ4AAAC6CAMAAABoQ1NAAAAAnFBMVEX///8BsPH///wGsfH4/Pn///sAqu8ArfL+/v8ArvGo3PfX8fr///nk8/s8ufEAq+////bt9vio3vIArPVpxe+h2PZgwfEjs/IAq+tQvvE9uPK+5/ey4Pbb8fpxyPQfsu2N0vfF5Pbc8vZ6zPHI7PHT7vEQte2M0vLL7flPv+tvyu6e2/Xm9vc+vO/a8vaZ1fVyxfa65O6Jy/Blwe0dxonpAAAG2klEQVR4nO2cbVviOhCGm0nTNDW2lPDSAtJVVFBxXXf//387LYoeFwRtXtqyc3/y0suSPkwmM5NJPA9BEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBkA4BDEBC9YOUEvymh9M00k/PprMoimaz6UXqQdPjaYbQ60kmL/rzCQkCJRIuuBCBKPIflykw75+zEvAv5zQLCCUfoIKrx6cr1vTwXAIAVwuSCCLErhyi4FkQR74sJfknpk7Pu8yV4OQQiizSpsdpnxDKb/w6TgSlB9UojUYkSx9O3j5kOlD8iBavcBHJ03YiICMhSv/wJTmoyOKrpkdsEd/z868psRWEF32AclU+SeCG/L2SHJ0wweBEYxBf9pNvilEhJqmEE/SochjUUKPU43bda3rs5oFlQkQtPQhZs/C0/AeDB3X7LTf6wUDSk1pwQ4C+qG0bpf8ttv70JKxEwnVQ2zQqeP5qHlVxpPt+Nd3J1b5pHsGifAqk52fX09VN2ul0hnlwdzhh+wJqeT8hWaKCkjLliecPKwbAumgpvQdVaKpBSVEaGK1mHKW8jN9JkqhRf91BOWBdL+A4oE252FTicJFPXyqtHYKNtNzoYWFUEXUqig+9a8PG8U65dFOhSCS7k+WF8vFI5UsbfrvqdUaPy0RvkT0OpcFcht1wITK3q8WLILzoyCLz0/JM2cBLnzpt+k2/xNL2VNmiog7YByNCNwT7KsFT0y97FDgLHImx0aPtdQC2dOE6tiSzds8XcLKuvCHUqtX2Efou1SidNvVbbR83yrEeuWzzRubMrRxlCjNr+pUPsdRKZr8fsVCatblUNq8vByW1Aha6kE2/9OdoLCyLmaoVzwbrpl/6c+K6YvA7KGOWOnqI+/Y2II5rqiFuw9BnI/r9uSZo0Fo1vGNdPnsp/0dUFg8Q13A9gvdbu9QWtcy9UGebzSVIa3mPuIXOdNOlAjV8h6CE91+22kLvqkYGSJO1975V15KqIQBbT4e3NUIHHiy3HQyhN82+r4coxpPHweJptZbQfA6zqVqmswFVnNSY+5QP3r7bMOw97bTiHn9C5Xy4ECoYz6eNJzEA8HwX8LoBGH/8MPV791/srNv/sED8WjW7yw2zsarfvEDIh3USPNCpEVRdilncYBlVTgudApjIzv9+ol/oiFuRTM6k34hPTe/qhdZbgp1vMoTzGu70A0Jkc/exWejL59I4NaY6DR52dqBDD1aZ3i4vLT1rcePcgcBSr8mHiMW+6g1ApGdy1ZOJchusgtcbKVorKn+FinxvU34I8JtTPQdCCVVLl0FIyEa1MtD3EdOx/0llL+yNuH5JPnCphxxwzQYw8WmlAjz5qLu8lCRLV2L4vd96ZVFK1c2hD0hrJPs7BK42YuTs6JGdwwjVZ4cWQ7gwsJ9HxYULMfwwTTSLxGp5LC2f6n1EhRDUl/bjsbCX601tQf4cLemxJ/1dCpotHEwXmCU60Vd1TKN3vDIh73XNo0xh1E/71iELzYHSL+yOlMtLrL+6FBPraniRThJexebn8r3Esfv4l1+Vabp+NleuLmeWp0sox5qDvH4bIfP2hErbvwKs9XuJxEjaTedgpfRGOc4n8YbJZLZvffl5u/1zbKCVKEntmgfT2Hr8Cx7BnslitoVIDK2q4TFz3V8u5CCxXTlMxIuvuJCDKru+o2+uicOJHMnKqhzmXIcb3yH6NkvrtXZSP8GJ7xBzq0uLXnz+ASeTReT7PsQYibmhOrEOEjOLcoT6ifcbbuSY2CwShgYH60gOq76jg5PFphwGirpb3Kwsuc1+GJiYG6kbOQZWrWPQLVdKud0cbmjukIaTqDS4tCqHwdE6kYPY7dM2eErDhRyF3XW22o40tba4kCOzfGZOTpUp7+FCDmW3aT2U8tZU6OFCjtz6PpyxtcW+HCJ4tt6U7HfHd4jY/q19LOJ6+/dvg40kgx0MFmNJYjfo2ACyMFMD4g/r8x3Wz+aKseKXk9tgbgyltVmwS1LnrsK9UC7cNGWzyGCabw8XU6UC2B9rN/yYgpLgaE+NMZjBPN8Ogszd3W0Jfuzy+oEaJCOnR7D9uM3+gyYDt/eeghw4vK3juwQ/3J9rGWo2pduhOtWSTBs4MCivJm10ICLL0yaubgAmHzinpD2aVIcGBJ1VR9Kcq7FRJF1yY+UgfajiYug3dmCyOj3r9yfVScWqYczVtVA7iM2hDR7wx1nTN88DYxdPcVa6VQPHLupRzpASlQ+vWnCBJ4QgZboaLvJ4TBthHI+W0aonGYTNnyz+P34jNG8Sn7FbzrEOa5dFIAiCIAiCIAiCIAiCIAiCIAiCIAiCIAiCIAiCIAjSLf4Dpbx04twJLPAAAAAASUVORK5CYII="},"95cd":function(e,t,n){e.exports=n.p+"img/loader.a6cd4c51.gif"},c193:function(e,t,n){"use strict";n("2ff2")},fb98:function(e,t,n){}});
//# sourceMappingURL=app.4063375e.js.map